(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{49:function(e,t,a){e.exports=a(83)},54:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),c=a.n(l),s=(a(54),a(13)),o=a(14),i=a(16),u=a(15),m=a(17),d=a(25),h=a(19),f=a(26),E=a.n(f),v=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Form"},r.a.createElement(E.a,{bg:"dark",variant:"dark"},r.a.createElement(E.a.Brand,{href:"/"},r.a.createElement("h1",{className:"mt-1"},"StarWars Fan App")),r.a.createElement(E.a.Collapse,{className:"justify-content-end"},r.a.createElement(E.a.Text,null,"Signed in as: ",r.a.createElement("a",{href:"/"},this.props.user)))))}}]),t}(n.Component),b=a(7),p=a.n(b),k=a(46),y=a.n(k),g=a(12),j=a.n(g),O=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleSubmit=function(t){var a=t.currentTarget;t.currentTarget.checkValidity(),!1===a.checkValidity()?(t.preventDefault(),t.stopPropagation(),e.setState({isInvalid:!0})):(e.handleValues(t),e.setState({validated:!0,isInvalid:!1}))},e.checkboxToggle=function(t){e.setState({isChecked:!e.state.isChecked})},e.handleValues=function(t){var a={email:t.target.elements.email.value,password:t.target.elements.password.value};e.userCallBackMethod(a.email),e.state.isChecked&&localStorage.setItem("savedUser",JSON.stringify(a))},e.userCallBackMethod=function(t){e.props.userEmail(t)},e.handleEmailChange=function(t){e.setState({isInvalid:!1})},e.state={user:{},isChecked:!1,validated:!1,isInvalid:!1},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){null!==localStorage.getItem("savedUser")&&(localStorage.getItem("savedUser"),this.setState({user:JSON.parse(localStorage.getItem("savedUser"))})),null!==localStorage.getItem("currentUser")&&(localStorage.setItem("currentUser",JSON.stringify("")),this.userCallBackMethod(""))}},{key:"render",value:function(){var e=this.state,t=e.validated,a=e.isInvalid,n=e.user;return t?r.a.createElement(h.a,{to:"/data"}):r.a.createElement(j.a,{xs:6,className:"col-centered"},r.a.createElement(p.a,{noValidate:!0,validated:t,onSubmit:this.handleSubmit},r.a.createElement(p.a.Group,{controlId:"formEmail"},r.a.createElement(p.a.Label,null,"Email address"),r.a.createElement(p.a.Control,{required:!0,type:"email",name:"email",placeholder:"Enter email",isInvalid:a,onChange:this.handleEmailChange,defaultValue:n.email}),r.a.createElement(p.a.Control.Feedback,{type:"invalid",className:"invalid-feedback"},"Please choose a valid email.")),r.a.createElement(p.a.Group,{controlId:"formPassword"},r.a.createElement(p.a.Label,null,"Password"),r.a.createElement(p.a.Control,{required:!0,name:"password",type:"password",placeholder:"Password",defaultValue:n.password})),r.a.createElement(p.a.Group,{controlId:"formBasicChecbox"},r.a.createElement(p.a.Check,{type:"checkbox",name:"saveUser",label:"Remember Me",onChange:this.checkboxToggle})),r.a.createElement(y.a,{variant:"primary",type:"submit"},"Login")))}}]),t}(n.Component),S=a(47),C=a.n(S),N=a(23),w=a.n(N),I=function(e){var t=e.searchChange;return r.a.createElement("div",{className:"Form"},r.a.createElement("form",null,r.a.createElement(p.a.Group,{controlId:"formGroupSearch"},r.a.createElement(p.a.Control,{as:"input",type:"text",placeholder:"Search...",onChange:t}))))},U=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).fetchData=function(t,a,n){fetch(t).then(function(e){return e.json()}).then(function(t){var n=a.concat(t.results);e.setState({data:n}),e.newFuzzySearch(e.state.searchField,n),null!==t.next?e.fetchData(t.next,n):(e.setState({data:n}),e.newFuzzySearch(e.state.searchField,n))}).catch(function(e){return console.log("Fail",e)}),void 0!==n&&e.setState({apiList:n,keys:Object.keys(n)})},e.handleSelect=function(t){e.fetchData(e.state.apiList[t.target.value],[]),e.setState({select:t.target.value})},e.handleClick=function(t){e.props.url(t),e.setState({isClicked:!e.state.isClicked})},e.handleSearch=function(t){e.setState({searchField:t.target.value}),e.newFuzzySearch(t.target.value,e.state.data)},e.newFuzzySearch=function(t,a){var n={shouldSort:!0,tokenize:!0,matchAllTokens:!0,threshold:.5,location:0,distance:100,keys:Object.keys(a[0])},r=new C.a(a,n).search(t);e.setState({searchResults:r})},e.userCallBackMethod=function(t){e.props.userEmail(t)},e.state={apiList:{},keys:[],data:[{"Loading...":null}],select:"people",searchField:"",searchResults:[],isClicked:!1,clickUrl:""},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://swapi.co/api/").then(function(e){return e.json()}).then(function(t){return e.fetchData(t[e.state.select],[],t)}).catch(function(e){return console.log("Fail",e)}),null!==localStorage.getItem("currentUser")&&(localStorage.getItem("currentUser"),this.userCallBackMethod(JSON.parse(localStorage.getItem("currentUser"))))}},{key:"render",value:function(){var e=this,t=this.state,a=t.keys,n=t.data,l=t.isClicked,c=t.searchResults,s=Object.keys(n[0]).slice(0,4);if(c.length>0)var o=c;else o=n;return l?r.a.createElement(h.a,{to:"/info"}):r.a.createElement("div",null,r.a.createElement("h2",null,"Data From StarWars"),r.a.createElement(w.a,{className:"mt-4"},r.a.createElement(j.a,{xs:4,className:"selectField"},r.a.createElement(p.a,{onChange:this.handleSelect},r.a.createElement(p.a.Control,{as:"select"},a.map(function(e){return r.a.createElement("option",{value:e,key:e},e)})))),r.a.createElement(j.a,{xs:8,className:"searchField"},r.a.createElement(I,{searchChange:this.handleSearch}))),r.a.createElement(w.a,{className:"mt-4 mb-5"},r.a.createElement(j.a,{className:"col-centered"},r.a.createElement("table",null,r.a.createElement("tbody",{className:"tableBody"},r.a.createElement("tr",{className:"tableTitleRow"},s.map(function(e){return r.a.createElement("th",{key:e},e.replace(/_/g," "))})),o.map(function(t){return r.a.createElement("tr",{key:Object.values(t)[0],onClick:e.handleClick.bind(e,t.url)},r.a.createElement("td",{key:Object.values(t)[0]+0},Object.values(t)[0]),r.a.createElement("td",{key:Object.values(t)[0]+1},Object.values(t)[1]),r.a.createElement("td",{key:Object.values(t)[0]+2},Object.values(t)[2]),r.a.createElement("td",{key:Object.values(t)[0]+3},Object.values(t)[3]))}))))))}}]),t}(n.Component),F=a(20),x=a(27),B=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleNestedUrl=function(t){e.setState({data:t});for(var a=Object.keys(t),n=Object.values(t),l=0;l<a.length;l++)0===n[l].length?function(){var t=a[l];e.setState(function(e){return{data:Object(x.a)({},e.data,Object(F.a)({},t,"n/a"))}})}():Array.isArray(n[l])?function(){var t=[],c=a[l];n[l].map(function(e){return fetch(e).then(function(e){return e.json()}).then(function(e){void 0!==e.name?t.push(r.a.createElement("div",{key:e.name},e.name)):void 0!==e.title?t.push(r.a.createElement("div",{key:e.title},e.title)):void 0!==e.key&&t.push(r.a.createElement("div",{key:e.key},e.key))}).catch(function(e){return console.log("Fail",e)})}),e.setState(function(e){return{data:Object(x.a)({},e.data,Object(F.a)({},c,t))}})}():-1!==n[l].indexOf("swapi")?function(){var t=a[l];fetch(n[l]).then(function(e){return e.json()}).then(function(a){return e.setState(function(n){var r;return{data:Object(x.a)({},n.data,(r={},Object(F.a)(r,t,a.name),Object(F.a)(r,"url",e.props.url),r))}})}).catch(function(e){return console.log("Fail",e)})}():n[l].match(/:\d{2}:/g)&&function(){var t=n[l].slice(0,10),r=a[l];e.setState(function(e){return{data:Object(x.a)({},e.data,Object(F.a)({},r,t))}})}()},e.state={data:{"Loading...":null}},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.url).then(function(e){return e.json()}).then(function(t){return e.handleNestedUrl(t)}).catch(function(e){return console.log("Fail",e)})}},{key:"render",value:function(){var e=this.state.data,t=Object.keys(e),a=Object.values(e);return""===this.props.url?r.a.createElement(h.a,{to:"/data"}):r.a.createElement("div",{className:"info"},r.a.createElement("h1",null,"Detailed Information"),r.a.createElement(w.a,{className:"mt-5 mb-5"},r.a.createElement(j.a,{className:"col-centered"},r.a.createElement("table",null,r.a.createElement("tbody",{className:"tableBody"},r.a.createElement("tr",{className:"tableTitleRow"},r.a.createElement("th",{key:"title",style:{textAlign:"center"}},a[0]+"'s description")))),r.a.createElement("table",null,r.a.createElement("tbody",{className:"tableBody"},t.map(function(t){return r.a.createElement("tr",{key:t},r.a.createElement("td",{key:"col-"+t},t.replace(/_/g," ")),r.a.createElement("td",{key:e[t]},e[t]))}))))))}}]),t}(n.Component),D=a(48),z=a.n(D),M=(a(82),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleUser=function(t){e.setState({userEmail:t}),localStorage.setItem("currentUser",JSON.stringify(t))},e.handleUrl=function(t){e.setState({infoUrl:t})},e.state={userEmail:"",infoUrl:""},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(d.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement(v,{user:this.state.userEmail}),r.a.createElement(z.a,{className:"mt-5"},r.a.createElement(w.a,{className:"mt-3"},r.a.createElement(j.a,{className:"col-centered"},r.a.createElement(h.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(O,{userEmail:e.handleUser})}}),r.a.createElement(h.b,{path:"/data",render:function(t){return r.a.createElement(U,{url:e.handleUrl,userEmail:e.handleUser})}}),r.a.createElement(h.b,{path:"/info",render:function(t){return r.a.createElement(B,{url:e.state.infoUrl})}}))))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[49,1,2]]]);
//# sourceMappingURL=main.25b77f33.chunk.js.map